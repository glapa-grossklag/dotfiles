# ===
# i3-gaps
# ===

# ---
# Variables
# ---

# Use Windows/Super key as modifier
set $mod Mod4

# ---
# Visuals
# ---

font pango:SFNS Display 12

set $bg-color 	         #3f3f3f
set $inactive-bg-color   #3f3f3f
set $text-color          #dfaf8f
set $inactive-text-color #dfaf8f
set $urgent-bg-color     #bf616a
set $indicator-color     #c5c8c6

# window colors
#                       border             background         text                 indicator
client.focused          $text-color        $text-color        $bg-color            $indicator-color
client.unfocused        $bg-color          $bg-color          $inactive-text-color $indicator-color
client.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color $indicator-color
client.urgent           $urgent-bg-color   $urgent-bg-color   $text-color          $indicator-color

# bar
bar {
    font pango:System San Francisco Display 10
    # position top
  	status_command i3status
    # tray_output none
    separator_symbol "‚Åû"
	colors {
		background $bg-color
        separator #D8DEE9
		#                  border             background         text
		focused_workspace  $bg-color          $text-color          $bg-color
		inactive_workspace $bg-color          $bg-color          $text-color
		urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color
	}
}

# ---
# Mappings
# ---

# Focus window
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused window
bindsym $mod+shift+h move window left
bindsym $mod+shift+j move window down
bindsym $mod+shift+k move window up
bindsym $mod+shift+l move window right

# Hold $mod and drag to move a floating window
floating_modifier $mod

# Open terminal
# bindsym $mod+Return exec xterm -b 20 -fa "SFMono" -fs 12
# bindsym Mod1+Return exec xterm -b 20 -fa "SFMono" -fs 12 -T "floating"
bindsym $mod+Return exec xterm
bindsym Mod1+Return exec xterm -T "floating"
bindsym $mod+Shift+Return exec firefox
bindsym $mod+d exec dmenu_run -nb '#2E3440' -nf '#c5c8c6' -sb '#565656' -sf '#c5c8c6'
bindsym $mod+p exec pavucontrol
bindsym $mod+q kill

# Split horizontally or vertically
bindsym $mod+n split h
bindsym $mod+m split v

# Fullscreen
bindsym $mod+f fullscreen toggle

# Change window layour
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Reload configuration file
bindsym $mod+Shift+c reload

# Restart i3 inplace
bindsym $mod+Shift+r restart

# ---
# Workspaces
# ---

# Workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"

# Change workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6

# Move focused window to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6

# Correct handling of floating windows
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="dialog"] floating enable
for_window [window_role="menu"] floating enable
for_window [window_role="Preferences"] floating enable
for_window [title="floating"] floating enable, move absolute position center
for_window [title="Volume Control"] floating enable, move absolute position center # Just for pavucontrol

# Resize
mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# i3-gaps
for_window [class="^.*"] border pixel 3
gaps inner 5
gaps outer 0
# smart_gaps on
# smart_borders on

# Window Assignments
for_window [class="Spotify"] move to workspace $ws6
for_window [title="Discord"] move to workspace $ws6

# Startup
exec compton -b -f -D 6
exec --no-startup-id ~/.fehbg # Set wallpaper
exec redshift
exec xrdb -merge ~/.Xresources
